\hypertarget{map_8h}{}\doxysection{Référence du fichier map.\+h}
\label{map_8h}\index{map.h@{map.h}}


Définitions des fonctions de gestion de la map.  


Graphe des dépendances par inclusion de map.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=274pt]{d7/dd6/map_8h__incl}
\end{center}
\end{figure}
Ce graphe montre quels fichiers incluent directement ou indirectement ce fichier \+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d4/dda/map_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structzone__tp}{zone\+\_\+tp}}
\begin{DoxyCompactList}\small\item\em Structure représentant une zone de tp. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structs__map}{t\+\_\+map}}
\begin{DoxyCompactList}\small\item\em Structure représentant une map. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{map_8h_ae5b774340dfc7392d6911f7a2186988c}{T\+A\+I\+L\+L\+E\+\_\+\+C\+A\+SE}}~16
\end{DoxyCompactItemize}
\doxysubsection*{Fonctions}
\begin{DoxyCompactItemize}
\item 
t\+\_\+map $\ast$ \mbox{\hyperlink{map_8h_af6448083132a6591f73061457f30ebb3}{charger\+\_\+map}} (const char $\ast$const nom\+\_\+map)
\begin{DoxyCompactList}\small\item\em Fonction qui récupère les informations stockées dans le fichier don le nom est donne en entrée. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{map_8h_aad95fee9e6bf2bd4c8ae74d98e1a6821}{init\+\_\+sousbuffer}} (t\+\_\+map $\ast$\mbox{\hyperlink{map_8h_a4bacbbb5c2d9a6cbd19ca4cba0dac1ae}{map}}, joueur\+\_\+t $\ast$joueur)
\begin{DoxyCompactList}\small\item\em Fonction qui initialise les textures qui serviront de buffer d\textquotesingle{}affichage au moteur du jeu. \end{DoxyCompactList}\item 
t\+\_\+aff $\ast$ \mbox{\hyperlink{map_8h_abd78a434afc7dae4de6de6e0b879ccb8}{texture\+\_\+map}} (const t\+\_\+map $\ast$\mbox{\hyperlink{map_8h_a4bacbbb5c2d9a6cbd19ca4cba0dac1ae}{map}})
\begin{DoxyCompactList}\small\item\em Fonction qui renvoie la texture de la map. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{map_8h_a814427d9c1ba916532c224a23f4771c5}{transition}} (t\+\_\+map $\ast$$\ast$actuelle, unsigned int num\+\_\+map, joueur\+\_\+t $\ast$joueurs\mbox{[}$\,$\mbox{]}, unsigned short int nb\+\_\+joueurs, unsigned int new\+\_\+x, unsigned int new\+\_\+y)
\begin{DoxyCompactList}\small\item\em Fonction qui permet de faire la transition avec une autre map. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{map_8h_a9ac5a301a49f97405f8428f2e3fb0f9d}{tp\+\_\+joueurs}} (t\+\_\+map $\ast$\mbox{\hyperlink{map_8h_a4bacbbb5c2d9a6cbd19ca4cba0dac1ae}{map}}, unsigned int x, unsigned int y, joueur\+\_\+t $\ast$joueurs\mbox{[}$\,$\mbox{]}, unsigned short int nb\+\_\+joueurs)
\begin{DoxyCompactList}\small\item\em Fonction qui permet de téléporter des joueurs à un certaine coordonnée. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{map_8h_af837acc6ac888e66589d3ff48f4eec12}{detruire\+\_\+map}} (t\+\_\+map $\ast$$\ast$\mbox{\hyperlink{map_8h_a4bacbbb5c2d9a6cbd19ca4cba0dac1ae}{map}}, joueur\+\_\+t $\ast$joueurs\mbox{[}$\,$\mbox{]}, unsigned short int nb\+\_\+joueurs)
\begin{DoxyCompactList}\small\item\em Fonction qui permet de détruire une map. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
t\+\_\+map $\ast$ \mbox{\hyperlink{map_8h_a4bacbbb5c2d9a6cbd19ca4cba0dac1ae}{map}}
\end{DoxyCompactItemize}


\doxysubsection{Description détaillée}
\begin{DoxyAuthor}{Auteur}
Ange Despert (\href{mailto:Ange.Despert.Etu@univ-lemans.fr}{\texttt{ Ange.\+Despert.\+Etu@univ-\/lemans.\+fr}}) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
05/04/2022 
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2022 
\end{DoxyCopyright}


\doxysubsection{Documentation des macros}
\mbox{\Hypertarget{map_8h_ae5b774340dfc7392d6911f7a2186988c}\label{map_8h_ae5b774340dfc7392d6911f7a2186988c}} 
\index{map.h@{map.h}!TAILLE\_CASE@{TAILLE\_CASE}}
\index{TAILLE\_CASE@{TAILLE\_CASE}!map.h@{map.h}}
\doxysubsubsection{\texorpdfstring{TAILLE\_CASE}{TAILLE\_CASE}}
{\footnotesize\ttfamily \#define T\+A\+I\+L\+L\+E\+\_\+\+C\+A\+SE~16}



\doxysubsection{Documentation des fonctions}
\mbox{\Hypertarget{map_8h_af6448083132a6591f73061457f30ebb3}\label{map_8h_af6448083132a6591f73061457f30ebb3}} 
\index{map.h@{map.h}!charger\_map@{charger\_map}}
\index{charger\_map@{charger\_map}!map.h@{map.h}}
\doxysubsubsection{\texorpdfstring{charger\_map()}{charger\_map()}}
{\footnotesize\ttfamily t\+\_\+map$\ast$ charger\+\_\+map (\begin{DoxyParamCaption}\item[{const char $\ast$const}]{nom\+\_\+map }\end{DoxyParamCaption})}

\begin{DoxyAuthor}{Auteur}
Ange Despert
\end{DoxyAuthor}
Fonction qui fait appel à la librairie J\+S\+O\+N-\/C pour charger les informations de la map au format J\+S\+ON. 
\begin{DoxyParams}{Paramètres}
{\em nom\+\_\+map} & Le nom du fichier qui contient les informations sur la map \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
Une map initialisée avec toutes les informations dedans 
\end{DoxyReturn}
Voici le graphe d\textquotesingle{}appel pour cette fonction \+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{dc/db7/map_8h_af6448083132a6591f73061457f30ebb3_cgraph}
\end{center}
\end{figure}
Voici le graphe des appelants de cette fonction \+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=312pt]{dc/db7/map_8h_af6448083132a6591f73061457f30ebb3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{map_8h_af837acc6ac888e66589d3ff48f4eec12}\label{map_8h_af837acc6ac888e66589d3ff48f4eec12}} 
\index{map.h@{map.h}!detruire\_map@{detruire\_map}}
\index{detruire\_map@{detruire\_map}!map.h@{map.h}}
\doxysubsubsection{\texorpdfstring{detruire\_map()}{detruire\_map()}}
{\footnotesize\ttfamily void detruire\+\_\+map (\begin{DoxyParamCaption}\item[{t\+\_\+map $\ast$$\ast$}]{map,  }\item[{joueur\+\_\+t $\ast$}]{joueurs\mbox{[}$\,$\mbox{]},  }\item[{unsigned short int}]{nb\+\_\+joueurs }\end{DoxyParamCaption})}

\begin{DoxyAuthor}{Auteur}
Ange Despert
\end{DoxyAuthor}
Cette fonction libèrera toute la mémoire allouée a la map. Elle détruira égalament les éléments des listes de la map. ~\newline
En ce qui concerne la liste de collision, étant donné que certains rectangle ne sont pas dynamiques, la fonction va d\textquotesingle{}abord s\textquotesingle{}assurer qu\textquotesingle{}ils peuvent être supprimer.


\begin{DoxyParams}{Paramètres}
{\em map} & L\textquotesingle{}addresse de la map que l\textquotesingle{}on veut détruire \\
\hline
{\em joueurs} & Les joueurs qui existent \\
\hline
{\em nb\+\_\+joueurs} & Le nombre de joueurs qui existent \\
\hline
\end{DoxyParams}
Voici le graphe d\textquotesingle{}appel pour cette fonction \+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{dc/db7/map_8h_af837acc6ac888e66589d3ff48f4eec12_cgraph}
\end{center}
\end{figure}
Voici le graphe des appelants de cette fonction \+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=314pt]{dc/db7/map_8h_af837acc6ac888e66589d3ff48f4eec12_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{map_8h_aad95fee9e6bf2bd4c8ae74d98e1a6821}\label{map_8h_aad95fee9e6bf2bd4c8ae74d98e1a6821}} 
\index{map.h@{map.h}!init\_sousbuffer@{init\_sousbuffer}}
\index{init\_sousbuffer@{init\_sousbuffer}!map.h@{map.h}}
\doxysubsubsection{\texorpdfstring{init\_sousbuffer()}{init\_sousbuffer()}}
{\footnotesize\ttfamily void init\+\_\+sousbuffer (\begin{DoxyParamCaption}\item[{t\+\_\+map $\ast$}]{map,  }\item[{joueur\+\_\+t $\ast$}]{joueur }\end{DoxyParamCaption})}

\begin{DoxyAuthor}{Auteur}
Ange Despert
\end{DoxyAuthor}
On va initialiser 2 sous buffer \+: l\textquotesingle{}un pour le \mbox{\hyperlink{structs__map_a8da9748668e62eeea8e210d3ba81df50}{plan principal}} et l\textquotesingle{}un pour le \mbox{\hyperlink{affichage_8h_aef49d39125567f1a9d5ed0561ea60edc}{1er plan}}.


\begin{DoxyParams}{Paramètres}
{\em map} & La mat qui contiendra l\textquotesingle{}un des sous buffer \\
\hline
{\em joueur} & Joueur autour duquel se fait la fenêtre d\textquotesingle{}affichage de la carte \\
\hline
\end{DoxyParams}
Voici le graphe d\textquotesingle{}appel pour cette fonction \+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=312pt]{dc/db7/map_8h_aad95fee9e6bf2bd4c8ae74d98e1a6821_cgraph}
\end{center}
\end{figure}
Voici le graphe des appelants de cette fonction \+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=321pt]{dc/db7/map_8h_aad95fee9e6bf2bd4c8ae74d98e1a6821_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{map_8h_abd78a434afc7dae4de6de6e0b879ccb8}\label{map_8h_abd78a434afc7dae4de6de6e0b879ccb8}} 
\index{map.h@{map.h}!texture\_map@{texture\_map}}
\index{texture\_map@{texture\_map}!map.h@{map.h}}
\doxysubsubsection{\texorpdfstring{texture\_map()}{texture\_map()}}
{\footnotesize\ttfamily t\+\_\+aff$\ast$ texture\+\_\+map (\begin{DoxyParamCaption}\item[{const t\+\_\+map $\ast$}]{map }\end{DoxyParamCaption})}

\begin{DoxyAuthor}{Auteur}
Ange Despert
\end{DoxyAuthor}
On va directement chercher cette information dans la structure \mbox{\hyperlink{structs__map}{de la map}}.


\begin{DoxyParams}{Paramètres}
{\em map} & La map dont on veut la texture \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
La texture de la map 
\end{DoxyReturn}
\mbox{\Hypertarget{map_8h_a9ac5a301a49f97405f8428f2e3fb0f9d}\label{map_8h_a9ac5a301a49f97405f8428f2e3fb0f9d}} 
\index{map.h@{map.h}!tp\_joueurs@{tp\_joueurs}}
\index{tp\_joueurs@{tp\_joueurs}!map.h@{map.h}}
\doxysubsubsection{\texorpdfstring{tp\_joueurs()}{tp\_joueurs()}}
{\footnotesize\ttfamily void tp\+\_\+joueurs (\begin{DoxyParamCaption}\item[{t\+\_\+map $\ast$}]{map,  }\item[{unsigned int}]{x,  }\item[{unsigned int}]{y,  }\item[{joueur\+\_\+t $\ast$}]{joueurs\mbox{[}$\,$\mbox{]},  }\item[{unsigned short int}]{nb\+\_\+joueurs }\end{DoxyParamCaption})}

\begin{DoxyAuthor}{Auteur}
Ange Despert
\end{DoxyAuthor}
Cette fonction va placer les joueurs aux coordonnées voulues. Elle centrera la caméra au niveau du personnage principal si cela est possible.


\begin{DoxyParams}{Paramètres}
{\em map} & La map où l\textquotesingle{}on téléporte les joueurs \\
\hline
{\em x} & La nouvelle coordonnée x des joueurs \\
\hline
{\em y} & La nouvelle coordonnée y des joueurs \\
\hline
{\em joueurs} & Les joueurs qui existent \\
\hline
{\em nb\+\_\+joueurs} & Le nombre de joueurs qui existent \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{map_8h_a814427d9c1ba916532c224a23f4771c5}\label{map_8h_a814427d9c1ba916532c224a23f4771c5}} 
\index{map.h@{map.h}!transition@{transition}}
\index{transition@{transition}!map.h@{map.h}}
\doxysubsubsection{\texorpdfstring{transition()}{transition()}}
{\footnotesize\ttfamily void transition (\begin{DoxyParamCaption}\item[{t\+\_\+map $\ast$$\ast$}]{actuelle,  }\item[{unsigned int}]{num\+\_\+map,  }\item[{joueur\+\_\+t $\ast$}]{joueurs\mbox{[}$\,$\mbox{]},  }\item[{unsigned short int}]{nb\+\_\+joueurs,  }\item[{unsigned int}]{new\+\_\+x,  }\item[{unsigned int}]{new\+\_\+y }\end{DoxyParamCaption})}

\begin{DoxyAuthor}{Auteur}
Ange Despert
\end{DoxyAuthor}
Cette fonction va détruire la map actuelle, charger la nouvelle et déplacer les personnages a leur nouvel emplacement donné en paramètre.


\begin{DoxyParams}{Paramètres}
{\em actuelle} & L\textquotesingle{}addresse de la map actuelle \\
\hline
{\em num\+\_\+map} & L\textquotesingle{}identifiant de la map que l\textquotesingle{}on veut accéder \\
\hline
{\em joueurs} & Les joueurs qui existent \\
\hline
{\em nb\+\_\+joueurs} & Le nombre de joueurs existants \\
\hline
{\em new\+\_\+x} & La nouvelle coordonnée x des joueurs \\
\hline
{\em new\+\_\+y} & La nouvelle coordonnée y des joueurs \\
\hline
\end{DoxyParams}


\doxysubsection{Documentation des variables}
\mbox{\Hypertarget{map_8h_a4bacbbb5c2d9a6cbd19ca4cba0dac1ae}\label{map_8h_a4bacbbb5c2d9a6cbd19ca4cba0dac1ae}} 
\index{map.h@{map.h}!map@{map}}
\index{map@{map}!map.h@{map.h}}
\doxysubsubsection{\texorpdfstring{map}{map}}
{\footnotesize\ttfamily t\+\_\+map$\ast$ map}

La map courante 